<div class="container">
  <h1 style="text-align: center">Categorias</h1>

  <mat-accordion>
    <mat-expansion-panel
      *ngFor="let category of categories | async"
      class="panel"
    >
      <mat-expansion-panel-header>
        <mat-panel-title>
          <span class="panel__container" class="panel__title">
            {{ category.data.name }}
          </span>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <ng-template matExpansionPanelContent>
        <div class="form">
          <mat-form-field appearance="outline">
            <mat-label>Nome</mat-label>
            <input matInput type="text" [(ngModel)]="category.data.name" />
          </mat-form-field>

          <div class="form__buttons">
            <button mat-raised-button color="accent" (click)="delete(category)">
              Deletar
            </button>

            <button
              mat-raised-button
              color="primary"
              (click)="update(category)"
            >
              Atualizar
            </button>
          </div>
        </div>
      </ng-template>
    </mat-expansion-panel>
  </mat-accordion>

  <button class="add-button" mat-fab color="primary" (click)="create()">
    <mat-icon>add</mat-icon>
  </button>
</div>
